<!DOCTYPE html>
<html>
	<head>
		<title>Zoomable Canvas with Lines Between Points</title>
		<script src="https://d3js.org/d3.v6.min.js"></script>
		<style>
			#myCanvas {
				border: 1px solid #000;
			}
		</style>
	</head>
	<body>
		<canvas id="myCanvas" width="800" height="600"></canvas>
		<script>
			window.addEventListener("load", async function () {
				const canvas = document.getElementById("myCanvas");
				const offscreen = canvas.transferControlToOffscreen();
				const worker = new Worker("offscreen_worker.js");

				// Post the offscreen canvas and points to the worker
				worker.postMessage({ canvas: offscreen }, [offscreen]);

				const update = setInterval(() => {
					worker.postMessage({ update: true });
				}, 1000);
			});
		</script>
	</body>
</html>
